<md-sidenav-layout fullscreen>
    <md-sidenav #sidenav>
        <md-nav-list>
            <a *ngFor="let view of views" md-list-item (click)="showView(view.path); formShowing = false; sidenav.close()">
                <md-icon md-list-icon>{{view.icon}}</md-icon>
                <span md-line>{{view.name}}</span>
                <span md-line class="secondary">{{view.description}}</span>
            </a>
            <md-divider></md-divider>
            <a md-list-item [href]="logoutUrl">
                <md-icon md-list-icon>power_settings_new</md-icon>
                <span md-line>Sign out</span>
                <span md-line class="secondary" *ngIf="!username">...</span>
                <span md-line class="secondary" *ngIf="username">Signed in as {{username}}</span>
            </a>
        </md-nav-list>
    </md-sidenav>
    <md-toolbar color="primary">
        <button class="md-icon-button" md-icon-button (click)="sidenav.open()"><md-icon>menu</md-icon></button>
        <button md-fab (click)="formShowing=!formShowing"><md-icon>add</md-icon></button>
    </md-toolbar>
    <md-toolbar color="warn" *ngIf="notification">
        <small>{{notification}}</small>
    </md-toolbar>
    <div class="form" *ngIf="formShowing">
        <md-card>
            <md-card-title>Create a new group</md-card-title>
            <md-card-content>
                <form #newGroupForm>
                    <md-input placeholder="Name" #newGroupName maxLength="100" required="true"></md-input>
                    <md-hint align="end">{{newGroupName.characterCount}} / 100 characters</md-hint>
                </form>
                <button md-raised-button class="pull-right" color="accent" (click)="createGroup()" [disabled]="newGroupName.empty || isCreatingGroup">Save</button>
            </md-card-content>
        </md-card>
    </div>
    <router-outlet></router-outlet>
</md-sidenav-layout>